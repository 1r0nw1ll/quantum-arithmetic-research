{
  "cert_type": "QA_EBM_NAVIGATION_CERT.v1",
  "schema_version": 1,
  "cert_id": "ebm_nav_bad_invdiff_mismatch",
  "issued_utc": "2026-02-15T17:30:00Z",
  "navigation": {
    "state_space": {
      "state_type": "Caps(N,N) QA core state (b,e)",
      "caps": { "N": 30 }
    },
    "generators": [
      {
        "name": "sigma",
        "kind": "qa_generator",
        "transition_rule": "σ(b,e)=(b,e+1) if e+1≤N else FAIL OUT_OF_BOUNDS",
        "invariant_effect": "Preserves integer manifold; typed FAIL at caps boundary"
      }
    ],
    "energy": {
      "scalar_type": "int",
      "definition": "E_task(s)=integer penalty sum over hard constraint violations (exact)",
      "minimize": true
    },
    "policy": {
      "selection": "min_energy_legal",
      "tie_break": "lex_generator_then_state_after",
      "declared_deterministic": true
    },
    "budgets": { "max_steps": 3, "max_millis": 50 }
  },
  "trace": {
    "steps": [
      {
        "t": 0,
        "state_before": "(b=1,e=1)",
        "energy_before": { "type": "int", "value": "2" },
        "violations_before": { "violations_total": 2 },
        "candidates": [
          {
            "generator": "sigma",
            "legal": true,
            "state_after": "(b=1,e=2)",
            "energy_after": { "type": "int", "value": "1" },
            "violations_after": { "violations_total": 1 }
          }
        ],
        "chosen_idx": 0,
        "result": "OK",
        "state_after": "(b=1,e=2)",
        "energy_after": { "type": "int", "value": "1" },
        "violations_after": { "violations_total": 1 },
        "invariant_diff": {
          "delta_energy": { "type": "int", "value": "-1" },
          "delta_violations": { "violations_total": -2 },
          "witness": "Intentional negative fixture: delta_violations mismatched."
        }
      }
    ],
    "outcome": { "status": "REACHED_TARGET" }
  },
  "determinism_contract": {
    "invariant_diff_defined": true,
    "failure_complete": true,
    "tie_break_total": true,
    "exact_energy_required": true
  },
  "digests": {
    "canonical_sha256": "ec3d0b7b248468814664f16a2fccbffa22e80a47ea20458d56355bdcd3e32dc3"
  }
}
