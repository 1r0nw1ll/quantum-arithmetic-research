{
  "schema_version": "v1",
  "cert_type": "QA_RATIONAL_TRIG_TYPE_SYSTEM.v1",
  "cert_id": "qa_rt_types_invalid_degenerate_0001",
  "created_utc": "2026-02-16T17:00:00Z",
  "source_semantics": {
    "video_ref": {
      "url": "https://www.youtube.com/watch?v=x6rb-qOEXtQ",
      "timestamp_seconds": 335,
      "claim_summary": "Typed formation rule failure example: collinear points cannot form a Triangle."
    },
    "rt_refs": [
      {
        "title": "A Rational Approach to Trigonometry (Wildberger, 2007)",
        "url_or_citation": "https://web.maths.unsw.edu.au/~norman/papers/RationalTrig.pdf"
      }
    ]
  },
  "type_system": {
    "base_algebra": { "kind": "integral_domain", "assumptions": ["no_zero_divisors"] },
    "types": { "Point2": {}, "Line2": {}, "Triangle": {} },
    "formation_rules": [
      {
        "rule_id": "FR_TRIANGLE_NONCOLLINEAR",
        "inputs": ["Point2", "Point2", "Point2"],
        "outputs": ["Triangle"],
        "side_conditions": ["det([B-A, C-A]) != 0"]
      }
    ]
  },
  "rt_core": {
    "primitives": {
      "quadrance": { "definition": "Q(A,B) = (x2-x1)^2 + (y2-y1)^2" },
      "spread": { "definition": "s(l1,l2) = algebraic line separation" }
    },
    "laws": [
      {
        "law_id": "RT_LAW_03",
        "name": "Spread law",
        "generator_move": "derive",
        "preconditions": ["Triangle well-formed"],
        "equation": "s1/Q1 = s2/Q2 = s3/Q3",
        "outputs": ["ratio_invariant"]
      }
    ]
  },
  "derivation": {
    "typed_state": {
      "triangle": {
        "A": [0, 0],
        "B": [1, 1],
        "C": [2, 2],
        "non_collinear_proof": "claimed non-collinear (but actually collinear: det=0)"
      },
      "observables": { "Q1": 0, "Q2": 0, "Q3": 0, "s1": 0, "s2": 0, "s3": 0 }
    },
    "steps": [
      {
        "step_id": "STEP_001",
        "uses_law_id": "RT_LAW_03",
        "inputs": { "Q1": 0, "s1": 0 },
        "outputs": { "ratio": "0/0" },
        "deterministic_hash": "ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"
      }
    ]
  },
  "determinism_contract": {
    "canonical_json": true,
    "no_rng": true,
    "stable_sorting": true,
    "hash_rule": "sha256(canonical_json({uses_law_id, inputs, outputs}))"
  },
  "invariant_diff": {
    "invariants": [
      { "name": "typed_state_well_formed", "value": false }
    ],
    "diffs": []
  }
}
